var St=e=>{throw TypeError(e)};var Je=(e,t,n)=>t.has(e)||St("Cannot "+n);var A=(e,t,n)=>(Je(e,t,"read from private field"),n?n.call(e):t.get(e)),de=(e,t,n)=>t.has(e)?St("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),pe=(e,t,n,r)=>(Je(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),me=(e,t,n)=>(Je(e,t,"access private method"),n);import{S as Un,s as Kn,h as $t,a as Yn,n as tn,b as nn,r as d,c as Jn,d as Qn,j as h,R as ie,e as Gn}from"./index-CkCXjceP.js";import{u as Et}from"./useQuery-HUOUZQYF.js";import{B as rn,w as Zn,d as _n,u as ce,c as ue,e as er,f as tr}from"./Button-CIb3jiqJ.js";var G,Z,L,K,Y,Be,et,en,nr=(en=class extends Un{constructor(t,n){super();de(this,Y);de(this,G);de(this,Z);de(this,L);de(this,K);pe(this,G,t),this.setOptions(n),this.bindMethods(),me(this,Y,Be).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var r;const n=this.options;this.options=A(this,G).defaultMutationOptions(t),Kn(this.options,n)||A(this,G).getMutationCache().notify({type:"observerOptionsUpdated",mutation:A(this,L),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&$t(n.mutationKey)!==$t(this.options.mutationKey)?this.reset():((r=A(this,L))==null?void 0:r.state.status)==="pending"&&A(this,L).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=A(this,L))==null||t.removeObserver(this)}onMutationUpdate(t){me(this,Y,Be).call(this),me(this,Y,et).call(this,t)}getCurrentResult(){return A(this,Z)}reset(){var t;(t=A(this,L))==null||t.removeObserver(this),pe(this,L,void 0),me(this,Y,Be).call(this),me(this,Y,et).call(this)}mutate(t,n){var r;return pe(this,K,n),(r=A(this,L))==null||r.removeObserver(this),pe(this,L,A(this,G).getMutationCache().build(A(this,G),this.options)),A(this,L).addObserver(this),A(this,L).execute(t)}},G=new WeakMap,Z=new WeakMap,L=new WeakMap,K=new WeakMap,Y=new WeakSet,Be=function(){var n;const t=((n=A(this,L))==null?void 0:n.state)??Yn();pe(this,Z,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},et=function(t){tn.batch(()=>{var n,r,o,a,s,i,u,l;if(A(this,K)&&this.hasListeners()){const c=A(this,Z).variables,f=A(this,Z).context;(t==null?void 0:t.type)==="success"?((r=(n=A(this,K)).onSuccess)==null||r.call(n,t.data,c,f),(a=(o=A(this,K)).onSettled)==null||a.call(o,t.data,null,c,f)):(t==null?void 0:t.type)==="error"&&((i=(s=A(this,K)).onError)==null||i.call(s,t.error,c,f),(l=(u=A(this,K)).onSettled)==null||l.call(u,void 0,t.error,c,f))}this.listeners.forEach(c=>{c(A(this,Z))})})},en);function tt(e,t){const n=nn(),[r]=d.useState(()=>new nr(n,e));d.useEffect(()=>{r.setOptions(e)},[r,e]);const o=d.useSyncExternalStore(d.useCallback(s=>r.subscribe(tn.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=d.useCallback((s,i)=>{r.mutate(s,i).catch(Jn)},[r]);if(o.error&&Qn(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}function rr({cat:e}){return e?h.jsxs("div",{className:"cat-header",children:[h.jsx("img",{className:"cat-image",src:`http://localhost:5000${e.image}`,alt:e.name}),h.jsxs("div",{className:"cat-meta",children:[h.jsxs("div",{className:"cat-title-row",children:[h.jsx("h1",{className:"cat-name",children:e.name}),h.jsxs("span",{className:"prediction-tag",children:[e.predictionCount??0," Predictions"]})]}),h.jsxs("div",{className:"cat-location",children:["📍 ",e.location??"Unknown Location"]})]})]}):null}function or({cat:e}){return h.jsxs("div",{className:"cat-meta-row",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Likes:"})," ",e.likes.join(", ")||"N/A"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Sex:"})," ",e.sex]}),e.graduated&&h.jsx("p",{className:"graduated-note",children:"🎓 This cat has graduated!"})]})}const Le=43200,kt=1440,At=Symbol.for("constructDateFrom");function ct(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&At in e?e[At](t):e instanceof Date?new e.constructor(t):new Date(t)}function ee(e,t){return ct(e,e)}let ar={};function ir(){return ar}function Rt(e){const t=ee(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function ut(e,...t){const n=ct.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function He(e,t){const n=+ee(e)-+ee(t);return n<0?-1:n>0?1:n}function sr(e){return ct(e,Date.now())}function cr(e,t,n){const[r,o]=ut(n==null?void 0:n.in,e,t),a=r.getFullYear()-o.getFullYear(),s=r.getMonth()-o.getMonth();return a*12+s}function ur(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function lr(e,t){return+ee(e)-+ee(t)}function fr(e,t){const n=ee(e);return n.setHours(23,59,59,999),n}function dr(e,t){const n=ee(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function pr(e,t){const n=ee(e);return+fr(n)==+dr(n)}function mr(e,t,n){const[r,o,a]=ut(n==null?void 0:n.in,e,e,t),s=He(o,a),i=Math.abs(cr(o,a));if(i<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-s*i);let u=He(o,a)===-s;pr(r)&&i===1&&He(r,a)===1&&(u=!1);const l=s*(i-+u);return l===0?0:l}function hr(e,t,n){const r=lr(e,t)/1e3;return ur(n==null?void 0:n.roundingMethod)(r)}const vr={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gr=(e,t,n)=>{let r;const o=vr[e];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Qe(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const yr={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},br={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wr={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xr={date:Qe({formats:yr,defaultWidth:"full"}),time:Qe({formats:br,defaultWidth:"full"}),dateTime:Qe({formats:wr,defaultWidth:"full"})},Or={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Cr=(e,t,n,r)=>Or[e];function Oe(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let o;if(r==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,i=n!=null&&n.width?String(n.width):s;o=e.formattingValues[i]||e.formattingValues[s]}else{const s=e.defaultWidth,i=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[i]||e.values[s]}const a=e.argumentCallback?e.argumentCallback(t):t;return o[a]}}const Mr={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Dr={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jr={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Pr={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Sr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$r={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Er=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},kr={ordinalNumber:Er,era:Oe({values:Mr,defaultWidth:"wide"}),quarter:Oe({values:Dr,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Oe({values:jr,defaultWidth:"wide"}),day:Oe({values:Pr,defaultWidth:"wide"}),dayPeriod:Oe({values:Sr,defaultWidth:"wide",formattingValues:$r,defaultFormattingWidth:"wide"})};function Ce(e){return(t,n={})=>{const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(o);if(!a)return null;const s=a[0],i=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(i)?Rr(i,f=>f.test(s)):Ar(i,f=>f.test(s));let l;l=e.valueCallback?e.valueCallback(u):u,l=n.valueCallback?n.valueCallback(l):l;const c=t.slice(s.length);return{value:l,rest:c}}}function Ar(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Rr(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Tr(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const o=r[0],a=t.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const i=t.slice(o.length);return{value:s,rest:i}}}const Nr=/^(\d+)(th|st|nd|rd)?/i,Wr=/\d+/i,Lr={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ir={any:[/^b/i,/^(a|c)/i]},Fr={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Br={any:[/1/i,/2/i,/3/i,/4/i]},Hr={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Vr={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zr={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Xr={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qr={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ur={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Kr={ordinalNumber:Tr({matchPattern:Nr,parsePattern:Wr,valueCallback:e=>parseInt(e,10)}),era:Ce({matchPatterns:Lr,defaultMatchWidth:"wide",parsePatterns:Ir,defaultParseWidth:"any"}),quarter:Ce({matchPatterns:Fr,defaultMatchWidth:"wide",parsePatterns:Br,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ce({matchPatterns:Hr,defaultMatchWidth:"wide",parsePatterns:Vr,defaultParseWidth:"any"}),day:Ce({matchPatterns:zr,defaultMatchWidth:"wide",parsePatterns:Xr,defaultParseWidth:"any"}),dayPeriod:Ce({matchPatterns:qr,defaultMatchWidth:"any",parsePatterns:Ur,defaultParseWidth:"any"})},Yr={code:"en-US",formatDistance:gr,formatLong:xr,formatRelative:Cr,localize:kr,match:Kr,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Jr(e,t,n){const r=ir(),o=(n==null?void 0:n.locale)??r.locale??Yr,a=2520,s=He(e,t);if(isNaN(s))throw new RangeError("Invalid time value");const i=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:s}),[u,l]=ut(n==null?void 0:n.in,...s>0?[t,e]:[e,t]),c=hr(l,u),f=(Rt(l)-Rt(u))/1e3,m=Math.round((c-f)/60);let p;if(m<2)return n!=null&&n.includeSeconds?c<5?o.formatDistance("lessThanXSeconds",5,i):c<10?o.formatDistance("lessThanXSeconds",10,i):c<20?o.formatDistance("lessThanXSeconds",20,i):c<40?o.formatDistance("halfAMinute",0,i):c<60?o.formatDistance("lessThanXMinutes",1,i):o.formatDistance("xMinutes",1,i):m===0?o.formatDistance("lessThanXMinutes",1,i):o.formatDistance("xMinutes",m,i);if(m<45)return o.formatDistance("xMinutes",m,i);if(m<90)return o.formatDistance("aboutXHours",1,i);if(m<kt){const v=Math.round(m/60);return o.formatDistance("aboutXHours",v,i)}else{if(m<a)return o.formatDistance("xDays",1,i);if(m<Le){const v=Math.round(m/kt);return o.formatDistance("xDays",v,i)}else if(m<Le*2)return p=Math.round(m/Le),o.formatDistance("aboutXMonths",p,i)}if(p=mr(l,u),p<12){const v=Math.round(m/Le);return o.formatDistance("xMonths",v,i)}else{const v=p%12,y=Math.trunc(p/12);return v<3?o.formatDistance("aboutXYears",y,i):v<9?o.formatDistance("overXYears",y,i):o.formatDistance("almostXYears",y+1,i)}}function Qr(e,t){return Jr(e,sr(e),t)}function Gr({comment:e,token:t,onToggleLike:n,onDelete:r}){const o=localStorage.getItem("userID")||sessionStorage.getItem("userID"),a=e.likes.includes(o),s=e.userID===o,i=()=>{!t||!o||n(e._id,a)},u=()=>{confirm("Are you sure you want to delete this comment?")&&r(e._id)};return h.jsx("li",{className:"comment-item",children:h.jsxs("div",{className:"comment-top",children:[h.jsxs("div",{children:[h.jsx("strong",{children:e.username})," ·"," ",h.jsx("small",{children:Qr(new Date(e.timestamp),{addSuffix:!0})}),h.jsx("p",{children:e.content})]}),h.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[h.jsxs("button",{onClick:i,disabled:!t,className:`like-button ${a?"liked":""}`,children:["❤️ ",e.likes.length]}),s&&h.jsx("button",{className:"delete-button",onClick:u,style:{background:"#fecaca",color:"#b91c1c",border:"none",borderRadius:"999px",padding:"0.4rem 0.8rem",fontWeight:"bold",cursor:"pointer"},children:"🗑 Delete"})]})]})})}function Zr({slug:e,token:t,username:n,onCommentAdded:r}){const[o,a]=d.useState(""),[s,i]=d.useState(null),[u,l]=d.useState(!1),c=async f=>{if(f.preventDefault(),!o.trim())return i("Comment cannot be empty.");if(!t)return i("Please log in to post a comment.");i(null),l(!0);try{const m=await fetch(`http://localhost:5000/api/cats/${e}/comments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({content:o})}),p=await m.json();m.ok?(a(""),r()):i(p.error||"Failed to post comment.")}catch{i("Something went wrong. Try again later.")}finally{l(!1)}};return h.jsxs("form",{className:"comment-form",onSubmit:c,children:[h.jsx("textarea",{className:"comment-input",placeholder:t?"Write a comment...":"Log in to post a comment.",value:o,onChange:f=>a(f.target.value),disabled:!t||u,rows:3}),h.jsxs("div",{className:"comment-actions",children:[s&&h.jsx("div",{className:"comment-error",children:s}),h.jsx(rn,{type:"submit",variant:"primary",disabled:!t||u,children:u?"Posting...":"Post"})]})]})}var _r=Function.prototype.bind.call(Function.prototype.call,[].slice);function Tt(e,t){return _r(e.querySelectorAll(t))}const on=!!(typeof window<"u"&&window.document&&window.document.createElement);var nt=!1,rt=!1;try{var Ge={get passive(){return nt=!0},get once(){return rt=nt=!0}};on&&(window.addEventListener("test",Ge,Ge),window.removeEventListener("test",Ge,!0))}catch{}function an(e,t,n,r){if(r&&typeof r!="boolean"&&!rt){var o=r.once,a=r.capture,s=n;!rt&&o&&(s=n.__once||function i(u){this.removeEventListener(t,i,a),n.call(this,u)},n.__once=s),e.addEventListener(t,s,nt?r:a)}e.addEventListener(t,n,r)}function eo(e,t,n){const r=d.useRef(e!==void 0),[o,a]=d.useState(t),s=e!==void 0,i=r.current;return r.current=s,!s&&i&&o!==t&&a(t),[s?e:o,d.useCallback((...u)=>{const[l,...c]=u;let f=n==null?void 0:n(l,...c);return a(l),f},[n])]}function to(e){const t=d.useRef(null);return d.useEffect(()=>{t.current=e}),t.current}function no(){const[,e]=d.useReducer(t=>t+1,0);return e}function ro(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e},[e]),t}function _(e){const t=ro(e);return d.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function oo(e,t,n,r=!1){const o=_(n);d.useEffect(()=>{const a=typeof e=="function"?e():e;return a.addEventListener(t,o,r),()=>a.removeEventListener(t,o,r)},[e])}const Xe=d.createContext(null);function ao(){return d.useState(null)}var Nt=Object.prototype.hasOwnProperty;function Wt(e,t,n){for(n of e.keys())if(je(n,t))return n}function je(e,t){var n,r,o;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&je(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(o=r,o&&typeof o=="object"&&(o=Wt(t,o),!o)||!t.has(o))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(o=r[0],o&&typeof o=="object"&&(o=Wt(t,o),!o)||!je(r[1],t.get(o)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Nt.call(e,n)&&++r&&!Nt.call(t,n)||!(n in t)||!je(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function io(){const e=d.useRef(!0),t=d.useRef(()=>e.current);return d.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function so(e){const t=io();return[e[0],d.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var I="top",V="bottom",z="right",F="left",lt="auto",ke=[I,V,z,F],he="start",$e="end",co="clippingParents",sn="viewport",Me="popper",uo="reference",Lt=ke.reduce(function(e,t){return e.concat([t+"-"+he,t+"-"+$e])},[]),cn=[].concat(ke,[lt]).reduce(function(e,t){return e.concat([t,t+"-"+he,t+"-"+$e])},[]),lo="beforeRead",fo="read",po="afterRead",mo="beforeMain",ho="main",vo="afterMain",go="beforeWrite",yo="write",bo="afterWrite",wo=[lo,fo,po,mo,ho,vo,go,yo,bo];function q(e){return e.split("-")[0]}function H(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function se(e){var t=H(e).Element;return e instanceof t||e instanceof Element}function U(e){var t=H(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function ft(e){if(typeof ShadowRoot>"u")return!1;var t=H(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var ae=Math.max,ze=Math.min,ve=Math.round;function ot(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function un(){return!/^((?!chrome|android).)*safari/i.test(ot())}function ge(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),o=1,a=1;t&&U(e)&&(o=e.offsetWidth>0&&ve(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&ve(r.height)/e.offsetHeight||1);var s=se(e)?H(e):window,i=s.visualViewport,u=!un()&&n,l=(r.left+(u&&i?i.offsetLeft:0))/o,c=(r.top+(u&&i?i.offsetTop:0))/a,f=r.width/o,m=r.height/a;return{width:f,height:m,top:c,right:l+f,bottom:c+m,left:l,x:l,y:c}}function dt(e){var t=ge(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function ln(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ft(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function te(e){return e?(e.nodeName||"").toLowerCase():null}function J(e){return H(e).getComputedStyle(e)}function xo(e){return["table","td","th"].indexOf(te(e))>=0}function ne(e){return((se(e)?e.ownerDocument:e.document)||window.document).documentElement}function qe(e){return te(e)==="html"?e:e.assignedSlot||e.parentNode||(ft(e)?e.host:null)||ne(e)}function It(e){return!U(e)||J(e).position==="fixed"?null:e.offsetParent}function Oo(e){var t=/firefox/i.test(ot()),n=/Trident/i.test(ot());if(n&&U(e)){var r=J(e);if(r.position==="fixed")return null}var o=qe(e);for(ft(o)&&(o=o.host);U(o)&&["html","body"].indexOf(te(o))<0;){var a=J(o);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return o;o=o.parentNode}return null}function Ae(e){for(var t=H(e),n=It(e);n&&xo(n)&&J(n).position==="static";)n=It(n);return n&&(te(n)==="html"||te(n)==="body"&&J(n).position==="static")?t:n||Oo(e)||t}function pt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Pe(e,t,n){return ae(e,ze(t,n))}function Co(e,t,n){var r=Pe(e,t,n);return r>n?n:r}function fn(){return{top:0,right:0,bottom:0,left:0}}function dn(e){return Object.assign({},fn(),e)}function pn(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var Mo=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,dn(typeof t!="number"?t:pn(t,ke))};function Do(e){var t,n=e.state,r=e.name,o=e.options,a=n.elements.arrow,s=n.modifiersData.popperOffsets,i=q(n.placement),u=pt(i),l=[F,z].indexOf(i)>=0,c=l?"height":"width";if(!(!a||!s)){var f=Mo(o.padding,n),m=dt(a),p=u==="y"?I:F,v=u==="y"?V:z,y=n.rects.reference[c]+n.rects.reference[u]-s[u]-n.rects.popper[c],g=s[u]-n.rects.reference[u],C=Ae(a),x=C?u==="y"?C.clientHeight||0:C.clientWidth||0:0,O=y/2-g/2,b=f[p],w=x-m[c]-f[v],D=x/2-m[c]/2+O,j=Pe(b,D,w),P=u;n.modifiersData[r]=(t={},t[P]=j,t.centerOffset=j-D,t)}}function jo(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||ln(t.elements.popper,o)&&(t.elements.arrow=o))}const Po={name:"arrow",enabled:!0,phase:"main",fn:Do,effect:jo,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ye(e){return e.split("-")[1]}var So={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $o(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:ve(n*o)/o||0,y:ve(r*o)/o||0}}function Ft(e){var t,n=e.popper,r=e.popperRect,o=e.placement,a=e.variation,s=e.offsets,i=e.position,u=e.gpuAcceleration,l=e.adaptive,c=e.roundOffsets,f=e.isFixed,m=s.x,p=m===void 0?0:m,v=s.y,y=v===void 0?0:v,g=typeof c=="function"?c({x:p,y}):{x:p,y};p=g.x,y=g.y;var C=s.hasOwnProperty("x"),x=s.hasOwnProperty("y"),O=F,b=I,w=window;if(l){var D=Ae(n),j="clientHeight",P="clientWidth";if(D===H(n)&&(D=ne(n),J(D).position!=="static"&&i==="absolute"&&(j="scrollHeight",P="scrollWidth")),D=D,o===I||(o===F||o===z)&&a===$e){b=V;var E=f&&D===w&&w.visualViewport?w.visualViewport.height:D[j];y-=E-r.height,y*=u?1:-1}if(o===F||(o===I||o===V)&&a===$e){O=z;var k=f&&D===w&&w.visualViewport?w.visualViewport.width:D[P];p-=k-r.width,p*=u?1:-1}}var M=Object.assign({position:i},l&&So),S=c===!0?$o({x:p,y},H(n)):{x:p,y};if(p=S.x,y=S.y,u){var $;return Object.assign({},M,($={},$[b]=x?"0":"",$[O]=C?"0":"",$.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+y+"px)":"translate3d("+p+"px, "+y+"px, 0)",$))}return Object.assign({},M,(t={},t[b]=x?y+"px":"",t[O]=C?p+"px":"",t.transform="",t))}function Eo(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,a=n.adaptive,s=a===void 0?!0:a,i=n.roundOffsets,u=i===void 0?!0:i,l={placement:q(t.placement),variation:ye(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Ft(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ft(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const ko={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Eo,data:{}};var Ie={passive:!0};function Ao(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,a=o===void 0?!0:o,s=r.resize,i=s===void 0?!0:s,u=H(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&l.forEach(function(c){c.addEventListener("scroll",n.update,Ie)}),i&&u.addEventListener("resize",n.update,Ie),function(){a&&l.forEach(function(c){c.removeEventListener("scroll",n.update,Ie)}),i&&u.removeEventListener("resize",n.update,Ie)}}const Ro={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ao,data:{}};var To={left:"right",right:"left",bottom:"top",top:"bottom"};function Ve(e){return e.replace(/left|right|bottom|top/g,function(t){return To[t]})}var No={start:"end",end:"start"};function Bt(e){return e.replace(/start|end/g,function(t){return No[t]})}function mt(e){var t=H(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function ht(e){return ge(ne(e)).left+mt(e).scrollLeft}function Wo(e,t){var n=H(e),r=ne(e),o=n.visualViewport,a=r.clientWidth,s=r.clientHeight,i=0,u=0;if(o){a=o.width,s=o.height;var l=un();(l||!l&&t==="fixed")&&(i=o.offsetLeft,u=o.offsetTop)}return{width:a,height:s,x:i+ht(e),y:u}}function Lo(e){var t,n=ne(e),r=mt(e),o=(t=e.ownerDocument)==null?void 0:t.body,a=ae(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=ae(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),i=-r.scrollLeft+ht(e),u=-r.scrollTop;return J(o||n).direction==="rtl"&&(i+=ae(n.clientWidth,o?o.clientWidth:0)-a),{width:a,height:s,x:i,y:u}}function vt(e){var t=J(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function mn(e){return["html","body","#document"].indexOf(te(e))>=0?e.ownerDocument.body:U(e)&&vt(e)?e:mn(qe(e))}function Se(e,t){var n;t===void 0&&(t=[]);var r=mn(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),a=H(r),s=o?[a].concat(a.visualViewport||[],vt(r)?r:[]):r,i=t.concat(s);return o?i:i.concat(Se(qe(s)))}function at(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Io(e,t){var n=ge(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Ht(e,t,n){return t===sn?at(Wo(e,n)):se(t)?Io(t,n):at(Lo(ne(e)))}function Fo(e){var t=Se(qe(e)),n=["absolute","fixed"].indexOf(J(e).position)>=0,r=n&&U(e)?Ae(e):e;return se(r)?t.filter(function(o){return se(o)&&ln(o,r)&&te(o)!=="body"}):[]}function Bo(e,t,n,r){var o=t==="clippingParents"?Fo(e):[].concat(t),a=[].concat(o,[n]),s=a[0],i=a.reduce(function(u,l){var c=Ht(e,l,r);return u.top=ae(c.top,u.top),u.right=ze(c.right,u.right),u.bottom=ze(c.bottom,u.bottom),u.left=ae(c.left,u.left),u},Ht(e,s,r));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function hn(e){var t=e.reference,n=e.element,r=e.placement,o=r?q(r):null,a=r?ye(r):null,s=t.x+t.width/2-n.width/2,i=t.y+t.height/2-n.height/2,u;switch(o){case I:u={x:s,y:t.y-n.height};break;case V:u={x:s,y:t.y+t.height};break;case z:u={x:t.x+t.width,y:i};break;case F:u={x:t.x-n.width,y:i};break;default:u={x:t.x,y:t.y}}var l=o?pt(o):null;if(l!=null){var c=l==="y"?"height":"width";switch(a){case he:u[l]=u[l]-(t[c]/2-n[c]/2);break;case $e:u[l]=u[l]+(t[c]/2-n[c]/2);break}}return u}function Ee(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,a=n.strategy,s=a===void 0?e.strategy:a,i=n.boundary,u=i===void 0?co:i,l=n.rootBoundary,c=l===void 0?sn:l,f=n.elementContext,m=f===void 0?Me:f,p=n.altBoundary,v=p===void 0?!1:p,y=n.padding,g=y===void 0?0:y,C=dn(typeof g!="number"?g:pn(g,ke)),x=m===Me?uo:Me,O=e.rects.popper,b=e.elements[v?x:m],w=Bo(se(b)?b:b.contextElement||ne(e.elements.popper),u,c,s),D=ge(e.elements.reference),j=hn({reference:D,element:O,placement:o}),P=at(Object.assign({},O,j)),E=m===Me?P:D,k={top:w.top-E.top+C.top,bottom:E.bottom-w.bottom+C.bottom,left:w.left-E.left+C.left,right:E.right-w.right+C.right},M=e.modifiersData.offset;if(m===Me&&M){var S=M[o];Object.keys(k).forEach(function($){var R=[z,V].indexOf($)>=0?1:-1,W=[I,V].indexOf($)>=0?"y":"x";k[$]+=S[W]*R})}return k}function Ho(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,a=n.rootBoundary,s=n.padding,i=n.flipVariations,u=n.allowedAutoPlacements,l=u===void 0?cn:u,c=ye(r),f=c?i?Lt:Lt.filter(function(v){return ye(v)===c}):ke,m=f.filter(function(v){return l.indexOf(v)>=0});m.length===0&&(m=f);var p=m.reduce(function(v,y){return v[y]=Ee(e,{placement:y,boundary:o,rootBoundary:a,padding:s})[q(y)],v},{});return Object.keys(p).sort(function(v,y){return p[v]-p[y]})}function Vo(e){if(q(e)===lt)return[];var t=Ve(e);return[Bt(e),t,Bt(t)]}function zo(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,a=o===void 0?!0:o,s=n.altAxis,i=s===void 0?!0:s,u=n.fallbackPlacements,l=n.padding,c=n.boundary,f=n.rootBoundary,m=n.altBoundary,p=n.flipVariations,v=p===void 0?!0:p,y=n.allowedAutoPlacements,g=t.options.placement,C=q(g),x=C===g,O=u||(x||!v?[Ve(g)]:Vo(g)),b=[g].concat(O).reduce(function(fe,Q){return fe.concat(q(Q)===lt?Ho(t,{placement:Q,boundary:c,rootBoundary:f,padding:l,flipVariations:v,allowedAutoPlacements:y}):Q)},[]),w=t.rects.reference,D=t.rects.popper,j=new Map,P=!0,E=b[0],k=0;k<b.length;k++){var M=b[k],S=q(M),$=ye(M)===he,R=[I,V].indexOf(S)>=0,W=R?"width":"height",T=Ee(t,{placement:M,boundary:c,rootBoundary:f,altBoundary:m,padding:l}),B=R?$?z:F:$?V:I;w[W]>D[W]&&(B=Ve(B));var be=Ve(B),X=[];if(a&&X.push(T[S]<=0),i&&X.push(T[B]<=0,T[be]<=0),X.every(function(fe){return fe})){E=M,P=!1;break}j.set(M,X)}if(P)for(var N=v?3:1,le=function(Q){var xe=b.find(function(Ne){var re=j.get(Ne);if(re)return re.slice(0,Q).every(function(Ue){return Ue})});if(xe)return E=xe,"break"},we=N;we>0;we--){var Te=le(we);if(Te==="break")break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}}const Xo={name:"flip",enabled:!0,phase:"main",fn:zo,requiresIfExists:["offset"],data:{_skip:!1}};function Vt(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function zt(e){return[I,z,V,F].some(function(t){return e[t]>=0})}function qo(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,a=t.modifiersData.preventOverflow,s=Ee(t,{elementContext:"reference"}),i=Ee(t,{altBoundary:!0}),u=Vt(s,r),l=Vt(i,o,a),c=zt(u),f=zt(l);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}const Uo={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:qo};function Ko(e,t,n){var r=q(e),o=[F,I].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=a[0],i=a[1];return s=s||0,i=(i||0)*o,[F,z].indexOf(r)>=0?{x:i,y:s}:{x:s,y:i}}function Yo(e){var t=e.state,n=e.options,r=e.name,o=n.offset,a=o===void 0?[0,0]:o,s=cn.reduce(function(c,f){return c[f]=Ko(f,t.rects,a),c},{}),i=s[t.placement],u=i.x,l=i.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=s}const Jo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Yo};function Qo(e){var t=e.state,n=e.name;t.modifiersData[n]=hn({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const Go={name:"popperOffsets",enabled:!0,phase:"read",fn:Qo,data:{}};function Zo(e){return e==="x"?"y":"x"}function _o(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,a=o===void 0?!0:o,s=n.altAxis,i=s===void 0?!1:s,u=n.boundary,l=n.rootBoundary,c=n.altBoundary,f=n.padding,m=n.tether,p=m===void 0?!0:m,v=n.tetherOffset,y=v===void 0?0:v,g=Ee(t,{boundary:u,rootBoundary:l,padding:f,altBoundary:c}),C=q(t.placement),x=ye(t.placement),O=!x,b=pt(C),w=Zo(b),D=t.modifiersData.popperOffsets,j=t.rects.reference,P=t.rects.popper,E=typeof y=="function"?y(Object.assign({},t.rects,{placement:t.placement})):y,k=typeof E=="number"?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),M=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,S={x:0,y:0};if(D){if(a){var $,R=b==="y"?I:F,W=b==="y"?V:z,T=b==="y"?"height":"width",B=D[b],be=B+g[R],X=B-g[W],N=p?-P[T]/2:0,le=x===he?j[T]:P[T],we=x===he?-P[T]:-j[T],Te=t.elements.arrow,fe=p&&Te?dt(Te):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:fn(),xe=Q[R],Ne=Q[W],re=Pe(0,j[T],fe[T]),Ue=O?j[T]/2-N-re-xe-k.mainAxis:le-re-xe-k.mainAxis,Bn=O?-j[T]/2+N+re+Ne+k.mainAxis:we+re+Ne+k.mainAxis,Ke=t.elements.arrow&&Ae(t.elements.arrow),Hn=Ke?b==="y"?Ke.clientTop||0:Ke.clientLeft||0:0,bt=($=M==null?void 0:M[b])!=null?$:0,Vn=B+Ue-bt-Hn,zn=B+Bn-bt,wt=Pe(p?ze(be,Vn):be,B,p?ae(X,zn):X);D[b]=wt,S[b]=wt-B}if(i){var xt,Xn=b==="x"?I:F,qn=b==="x"?V:z,oe=D[w],We=w==="y"?"height":"width",Ot=oe+g[Xn],Ct=oe-g[qn],Ye=[I,F].indexOf(C)!==-1,Mt=(xt=M==null?void 0:M[w])!=null?xt:0,Dt=Ye?Ot:oe-j[We]-P[We]-Mt+k.altAxis,jt=Ye?oe+j[We]+P[We]-Mt-k.altAxis:Ct,Pt=p&&Ye?Co(Dt,oe,jt):Pe(p?Dt:Ot,oe,p?jt:Ct);D[w]=Pt,S[w]=Pt-oe}t.modifiersData[r]=S}}const ea={name:"preventOverflow",enabled:!0,phase:"main",fn:_o,requiresIfExists:["offset"]};function ta(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function na(e){return e===H(e)||!U(e)?mt(e):ta(e)}function ra(e){var t=e.getBoundingClientRect(),n=ve(t.width)/e.offsetWidth||1,r=ve(t.height)/e.offsetHeight||1;return n!==1||r!==1}function oa(e,t,n){n===void 0&&(n=!1);var r=U(t),o=U(t)&&ra(t),a=ne(t),s=ge(e,o,n),i={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((te(t)!=="body"||vt(a))&&(i=na(t)),U(t)?(u=ge(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=ht(a))),{x:s.left+i.scrollLeft-u.x,y:s.top+i.scrollTop-u.y,width:s.width,height:s.height}}function aa(e){var t=new Map,n=new Set,r=[];e.forEach(function(a){t.set(a.name,a)});function o(a){n.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(i){if(!n.has(i)){var u=t.get(i);u&&o(u)}}),r.push(a)}return e.forEach(function(a){n.has(a.name)||o(a)}),r}function ia(e){var t=aa(e);return wo.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function sa(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function ca(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var Xt={placement:"bottom",modifiers:[],strategy:"absolute"};function qt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function ua(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,a=o===void 0?Xt:o;return function(i,u,l){l===void 0&&(l=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Xt,a),modifiersData:{},elements:{reference:i,popper:u},attributes:{},styles:{}},f=[],m=!1,p={state:c,setOptions:function(C){var x=typeof C=="function"?C(c.options):C;y(),c.options=Object.assign({},a,c.options,x),c.scrollParents={reference:se(i)?Se(i):i.contextElement?Se(i.contextElement):[],popper:Se(u)};var O=ia(ca([].concat(r,c.options.modifiers)));return c.orderedModifiers=O.filter(function(b){return b.enabled}),v(),p.update()},forceUpdate:function(){if(!m){var C=c.elements,x=C.reference,O=C.popper;if(qt(x,O)){c.rects={reference:oa(x,Ae(O),c.options.strategy==="fixed"),popper:dt(O)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(k){return c.modifiersData[k.name]=Object.assign({},k.data)});for(var b=0;b<c.orderedModifiers.length;b++){if(c.reset===!0){c.reset=!1,b=-1;continue}var w=c.orderedModifiers[b],D=w.fn,j=w.options,P=j===void 0?{}:j,E=w.name;typeof D=="function"&&(c=D({state:c,options:P,name:E,instance:p})||c)}}}},update:sa(function(){return new Promise(function(g){p.forceUpdate(),g(c)})}),destroy:function(){y(),m=!0}};if(!qt(i,u))return p;p.setOptions(l).then(function(g){!m&&l.onFirstUpdate&&l.onFirstUpdate(g)});function v(){c.orderedModifiers.forEach(function(g){var C=g.name,x=g.options,O=x===void 0?{}:x,b=g.effect;if(typeof b=="function"){var w=b({state:c,name:C,instance:p,options:O}),D=function(){};f.push(w||D)}})}function y(){f.forEach(function(g){return g()}),f=[]}return p}}const la=ua({defaultModifiers:[Uo,Go,ko,Ro,Jo,Xo,ea,Po]}),fa=["enabled","placement","strategy","modifiers"];function da(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const pa={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},ma={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:e})=>()=>{const{reference:t,popper:n}=e.elements;if("removeAttribute"in t){const r=(t.getAttribute("aria-describedby")||"").split(",").filter(o=>o.trim()!==n.id);r.length?t.setAttribute("aria-describedby",r.join(",")):t.removeAttribute("aria-describedby")}},fn:({state:e})=>{var t;const{popper:n,reference:r}=e.elements,o=(t=n.getAttribute("role"))==null?void 0:t.toLowerCase();if(n.id&&o==="tooltip"&&"setAttribute"in r){const a=r.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",a?`${a},${n.id}`:n.id)}}},ha=[];function va(e,t,n={}){let{enabled:r=!0,placement:o="bottom",strategy:a="absolute",modifiers:s=ha}=n,i=da(n,fa);const u=d.useRef(s),l=d.useRef(),c=d.useCallback(()=>{var g;(g=l.current)==null||g.update()},[]),f=d.useCallback(()=>{var g;(g=l.current)==null||g.forceUpdate()},[]),[m,p]=so(d.useState({placement:o,update:c,forceUpdate:f,attributes:{},styles:{popper:{},arrow:{}}})),v=d.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:g})=>{const C={},x={};Object.keys(g.elements).forEach(O=>{C[O]=g.styles[O],x[O]=g.attributes[O]}),p({state:g,styles:C,attributes:x,update:c,forceUpdate:f,placement:g.placement})}}),[c,f,p]),y=d.useMemo(()=>(je(u.current,s)||(u.current=s),u.current),[s]);return d.useEffect(()=>{!l.current||!r||l.current.setOptions({placement:o,strategy:a,modifiers:[...y,v,pa]})},[a,o,v,r,y]),d.useEffect(()=>{if(!(!r||e==null||t==null))return l.current=la(e,t,Object.assign({},i,{placement:o,strategy:a,modifiers:[...y,ma,v]})),()=>{l.current!=null&&(l.current.destroy(),l.current=void 0,p(g=>Object.assign({},g,{attributes:{},styles:{popper:{}}})))}},[r,e,t]),m}function Ut(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function ga(e,t,n,r){var o=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)}function Fe(e,t,n,r){return an(e,t,n,r),function(){ga(e,t,n,r)}}function ya(e){return e&&e.ownerDocument||document}const Kt=()=>{};function ba(e){return e.button===0}function wa(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const Ze=e=>e&&("current"in e?e.current:e),Yt={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function xa(e,t=Kt,{disabled:n,clickTrigger:r="click"}={}){const o=d.useRef(!1),a=d.useRef(!1),s=d.useCallback(l=>{const c=Ze(e);Zn(!!c,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),o.current=!c||wa(l)||!ba(l)||!!Ut(c,l.target)||a.current,a.current=!1},[e]),i=_(l=>{const c=Ze(e);c&&Ut(c,l.target)?a.current=!0:a.current=!1}),u=_(l=>{o.current||t(l)});d.useEffect(()=>{var l,c;if(n||e==null)return;const f=ya(Ze(e)),m=f.defaultView||window;let p=(l=m.event)!=null?l:(c=m.parent)==null?void 0:c.event,v=null;Yt[r]&&(v=Fe(f,Yt[r],i,!0));const y=Fe(f,r,s,!0),g=Fe(f,r,x=>{if(x===p){p=void 0;return}u(x)});let C=[];return"ontouchstart"in f.documentElement&&(C=[].slice.call(f.body.children).map(x=>Fe(x,"mousemove",Kt))),()=>{v==null||v(),y(),g(),C.forEach(x=>x())}},[e,n,r,s,i,u])}function Oa(e){const t={};return Array.isArray(e)?(e==null||e.forEach(n=>{t[n.name]=n}),t):e||t}function Ca(e={}){return Array.isArray(e)?e:Object.keys(e).map(t=>(e[t].name=t,e[t]))}function Ma({enabled:e,enableEvents:t,placement:n,flip:r,offset:o,fixed:a,containerPadding:s,arrowElement:i,popperConfig:u={}}){var l,c,f,m,p;const v=Oa(u.modifiers);return Object.assign({},u,{placement:n,enabled:e,strategy:a?"fixed":u.strategy,modifiers:Ca(Object.assign({},v,{eventListeners:{enabled:t,options:(l=v.eventListeners)==null?void 0:l.options},preventOverflow:Object.assign({},v.preventOverflow,{options:s?Object.assign({padding:s},(c=v.preventOverflow)==null?void 0:c.options):(f=v.preventOverflow)==null?void 0:f.options}),offset:{options:Object.assign({offset:o},(m=v.offset)==null?void 0:m.options)},arrow:Object.assign({},v.arrow,{enabled:!!i,options:Object.assign({},(p=v.arrow)==null?void 0:p.options,{element:i})}),flip:Object.assign({enabled:!!r},v.flip)}))})}const Da=["children","usePopper"];function ja(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const Pa=()=>{};function vn(e={}){const t=d.useContext(Xe),[n,r]=ao(),o=d.useRef(!1),{flip:a,offset:s,rootCloseEvent:i,fixed:u=!1,placement:l,popperConfig:c={},enableEventListeners:f=!0,usePopper:m=!!t}=e,p=(t==null?void 0:t.show)==null?!!e.show:t.show;p&&!o.current&&(o.current=!0);const v=D=>{t==null||t.toggle(!1,D)},{placement:y,setMenu:g,menuElement:C,toggleElement:x}=t||{},O=va(x,C,Ma({placement:l||y||"bottom-start",enabled:m,enableEvents:f??p,offset:s,flip:a,fixed:u,arrowElement:n,popperConfig:c})),b=Object.assign({ref:g||Pa,"aria-labelledby":x==null?void 0:x.id},O.attributes.popper,{style:O.styles.popper}),w={show:p,placement:y,hasShown:o.current,toggle:t==null?void 0:t.toggle,popper:m?O:null,arrowProps:m?Object.assign({ref:r},O.attributes.arrow,{style:O.styles.arrow}):{}};return xa(C,v,{clickTrigger:i,disabled:!p}),[b,w]}function gn(e){let{children:t,usePopper:n=!0}=e,r=ja(e,Da);const[o,a]=vn(Object.assign({},r,{usePopper:n}));return h.jsx(h.Fragment,{children:t(o,a)})}gn.displayName="DropdownMenu";const yn={prefix:String(Math.round(Math.random()*1e10)),current:0},bn=ie.createContext(yn),Sa=ie.createContext(!1);let _e=new WeakMap;function $a(e=!1){let t=d.useContext(bn),n=d.useRef(null);if(n.current===null&&!e){var r,o;let a=(o=ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||o===void 0||(r=o.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(a){let s=_e.get(a);s==null?_e.set(a,{id:t.current,state:a.memoizedState}):a.memoizedState!==s.state&&(t.current=s.id,_e.delete(a))}n.current=++t.current}return n.current}function Ea(e){let t=d.useContext(bn),n=$a(!!e),r=`react-aria${t.prefix}`;return e||`${r}-${n}`}function ka(e){let t=ie.useId(),[n]=d.useState(Wa()),r=n?"react-aria":`react-aria${yn.prefix}`;return e||`${r}-${t}`}const Aa=typeof ie.useId=="function"?ka:Ea;function Ra(){return!1}function Ta(){return!0}function Na(e){return()=>{}}function Wa(){return typeof ie.useSyncExternalStore=="function"?ie.useSyncExternalStore(Na,Ra,Ta):d.useContext(Sa)}const wn=e=>{var t;return((t=e.getAttribute("role"))==null?void 0:t.toLowerCase())==="menu"},Jt=()=>{};function xn(){const e=Aa(),{show:t=!1,toggle:n=Jt,setToggle:r,menuElement:o}=d.useContext(Xe)||{},a=d.useCallback(i=>{n(!t,i)},[t,n]),s={id:e,ref:r||Jt,onClick:a,"aria-expanded":!!t};return o&&wn(o)&&(s["aria-haspopup"]=!0),[s,{show:t,toggle:n}]}function On({children:e}){const[t,n]=xn();return h.jsx(h.Fragment,{children:e(t,n)})}On.displayName="DropdownToggle";const it=d.createContext(null),Qt=(e,t=null)=>e!=null?String(e):t||null,Cn=d.createContext(null);Cn.displayName="NavContext";const La="data-rr-ui-";function Mn(e){return`${La}${e}`}const Ia=["eventKey","disabled","onClick","active","as"];function Fa(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Dn({key:e,href:t,active:n,disabled:r,onClick:o}){const a=d.useContext(it),s=d.useContext(Cn),{activeKey:i}=s||{},u=Qt(e,t),l=n==null&&e!=null?Qt(i)===u:n;return[{onClick:_(f=>{r||(o==null||o(f),a&&!f.isPropagationStopped()&&a(u,f))}),"aria-disabled":r||void 0,"aria-selected":l,[Mn("dropdown-item")]:""},{isActive:l}]}const jn=d.forwardRef((e,t)=>{let{eventKey:n,disabled:r,onClick:o,active:a,as:s=_n}=e,i=Fa(e,Ia);const[u]=Dn({key:n,href:i.href,disabled:r,onClick:o,active:a});return h.jsx(s,Object.assign({},i,{ref:t},u))});jn.displayName="DropdownItem";const Pn=d.createContext(on?window:void 0);Pn.Provider;function Ba(){return d.useContext(Pn)}function Gt(){const e=no(),t=d.useRef(null),n=d.useCallback(r=>{t.current=r,e()},[e]);return[t,n]}function Re({defaultShow:e,show:t,onSelect:n,onToggle:r,itemSelector:o=`* [${Mn("dropdown-item")}]`,focusFirstItemOnShow:a,placement:s="bottom-start",children:i}){const u=Ba(),[l,c]=eo(t,e,r),[f,m]=Gt(),p=f.current,[v,y]=Gt(),g=v.current,C=to(l),x=d.useRef(null),O=d.useRef(!1),b=d.useContext(it),w=d.useCallback((M,S,$=S==null?void 0:S.type)=>{c(M,{originalEvent:S,source:$})},[c]),D=_((M,S)=>{n==null||n(M,S),w(!1,S,"select"),S.isPropagationStopped()||b==null||b(M,S)}),j=d.useMemo(()=>({toggle:w,placement:s,show:l,menuElement:p,toggleElement:g,setMenu:m,setToggle:y}),[w,s,l,p,g,m,y]);p&&C&&!l&&(O.current=p.contains(p.ownerDocument.activeElement));const P=_(()=>{g&&g.focus&&g.focus()}),E=_(()=>{const M=x.current;let S=a;if(S==null&&(S=f.current&&wn(f.current)?"keyboard":!1),S===!1||S==="keyboard"&&!/^key.+$/.test(M))return;const $=Tt(f.current,o)[0];$&&$.focus&&$.focus()});d.useEffect(()=>{l?E():O.current&&(O.current=!1,P())},[l,O,P,E]),d.useEffect(()=>{x.current=null});const k=(M,S)=>{if(!f.current)return null;const $=Tt(f.current,o);let R=$.indexOf(M)+S;return R=Math.max(0,Math.min(R,$.length)),$[R]};return oo(d.useCallback(()=>u.document,[u]),"keydown",M=>{var S,$;const{key:R}=M,W=M.target,T=(S=f.current)==null?void 0:S.contains(W),B=($=v.current)==null?void 0:$.contains(W);if(/input|textarea/i.test(W.tagName)&&(R===" "||R!=="Escape"&&T||R==="Escape"&&W.type==="search")||!T&&!B||R==="Tab"&&(!f.current||!l))return;x.current=M.type;const X={originalEvent:M,source:M.type};switch(R){case"ArrowUp":{const N=k(W,-1);N&&N.focus&&N.focus(),M.preventDefault();return}case"ArrowDown":if(M.preventDefault(),!l)c(!0,X);else{const N=k(W,1);N&&N.focus&&N.focus()}return;case"Tab":an(W.ownerDocument,"keyup",N=>{var le;(N.key==="Tab"&&!N.target||!((le=f.current)!=null&&le.contains(N.target)))&&c(!1,X)},{once:!0});break;case"Escape":R==="Escape"&&(M.preventDefault(),M.stopPropagation()),c(!1,X);break}}),h.jsx(it.Provider,{value:D,children:h.jsx(Xe.Provider,{value:j,children:i})})}Re.displayName="Dropdown";Re.Menu=gn;Re.Toggle=On;Re.Item=jn;function st(){return st=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},st.apply(null,arguments)}function Ha(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Zt(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Va(e){var t=za(e,"string");return typeof t=="symbol"?t:String(t)}function za(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Xa(e,t,n){var r=d.useRef(e!==void 0),o=d.useState(t),a=o[0],s=o[1],i=e!==void 0,u=r.current;return r.current=i,!i&&u&&a!==t&&s(t),[i?e:a,d.useCallback(function(l){for(var c=arguments.length,f=new Array(c>1?c-1:0),m=1;m<c;m++)f[m-1]=arguments[m];n&&n.apply(void 0,[l].concat(f)),s(l)},[n])]}function qa(e,t){return Object.keys(t).reduce(function(n,r){var o,a=n,s=a[Zt(r)],i=a[r],u=Ha(a,[Zt(r),r].map(Va)),l=t[r],c=Xa(i,s,e[l]),f=c[0],m=c[1];return st({},u,(o={},o[r]=f,o[l]=m,o))},e)}function Ua(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e},[e]),t}function Ka(e){const t=Ua(e);return d.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const gt=d.createContext({});gt.displayName="DropdownContext";const Sn=d.forwardRef(({className:e,bsPrefix:t,as:n="hr",role:r="separator",...o},a)=>(t=ce(t,"dropdown-divider"),h.jsx(n,{ref:a,className:ue(e,t),role:r,...o})));Sn.displayName="DropdownDivider";const $n=d.forwardRef(({className:e,bsPrefix:t,as:n="div",role:r="heading",...o},a)=>(t=ce(t,"dropdown-header"),h.jsx(n,{ref:a,className:ue(e,t),role:r,...o})));$n.displayName="DropdownHeader";const Ya=["onKeyDown"];function Ja(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Qa(e){return!e||e.trim()==="#"}const En=d.forwardRef((e,t)=>{let{onKeyDown:n}=e,r=Ja(e,Ya);const[o]=er(Object.assign({tagName:"a"},r)),a=_(s=>{o.onKeyDown(s),n==null||n(s)});return Qa(r.href)||r.role==="button"?h.jsx("a",Object.assign({ref:t},r,o,{onKeyDown:a})):h.jsx("a",Object.assign({ref:t},r,{onKeyDown:n}))});En.displayName="Anchor";const kn=d.forwardRef(({bsPrefix:e,className:t,eventKey:n,disabled:r=!1,onClick:o,active:a,as:s=En,...i},u)=>{const l=ce(e,"dropdown-item"),[c,f]=Dn({key:n,href:i.href,disabled:r,onClick:o,active:a});return h.jsx(s,{...i,...c,ref:u,className:ue(t,l,f.isActive&&"active",r&&"disabled")})});kn.displayName="DropdownItem";const An=d.forwardRef(({className:e,bsPrefix:t,as:n="span",...r},o)=>(t=ce(t,"dropdown-item-text"),h.jsx(n,{ref:o,className:ue(e,t),...r})));An.displayName="DropdownItemText";const Ga=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Za=typeof document<"u",_a=Za||Ga?d.useLayoutEffect:d.useEffect,_t=e=>!e||typeof e=="function"?e:t=>{e.current=t};function ei(e,t){const n=_t(e),r=_t(t);return o=>{n&&n(o),r&&r(o)}}function Rn(e,t){return d.useMemo(()=>ei(e,t),[e,t])}const yt=d.createContext(null);yt.displayName="InputGroupContext";const Tn=d.createContext(null);Tn.displayName="NavbarContext";function Nn(e,t){return e}function Wn(e,t,n){const r=n?"top-end":"top-start",o=n?"top-start":"top-end",a=n?"bottom-end":"bottom-start",s=n?"bottom-start":"bottom-end",i=n?"right-start":"left-start",u=n?"right-end":"left-end",l=n?"left-start":"right-start",c=n?"left-end":"right-end";let f=e?s:a;return t==="up"?f=e?o:r:t==="end"?f=e?c:l:t==="start"?f=e?u:i:t==="down-centered"?f="bottom":t==="up-centered"&&(f="top"),f}const Ln=d.forwardRef(({bsPrefix:e,className:t,align:n,rootCloseEvent:r,flip:o=!0,show:a,renderOnMount:s,as:i="div",popperConfig:u,variant:l,...c},f)=>{let m=!1;const p=d.useContext(Tn),v=ce(e,"dropdown-menu"),{align:y,drop:g,isRTL:C}=d.useContext(gt);n=n||y;const x=d.useContext(yt),O=[];if(n)if(typeof n=="object"){const M=Object.keys(n);if(M.length){const S=M[0],$=n[S];m=$==="start",O.push(`${v}-${S}-${$}`)}}else n==="end"&&(m=!0);const b=Wn(m,g,C),[w,{hasShown:D,popper:j,show:P,toggle:E}]=vn({flip:o,rootCloseEvent:r,show:a,usePopper:!p&&O.length===0,offset:[0,2],popperConfig:u,placement:b});if(w.ref=Rn(Nn(f),w.ref),_a(()=>{P&&(j==null||j.update())},[P]),!D&&!s&&!x)return null;typeof i!="string"&&(w.show=P,w.close=()=>E==null?void 0:E(!1),w.align=n);let k=c.style;return j!=null&&j.placement&&(k={...c.style,...w.style},c["x-placement"]=j.placement),h.jsx(i,{...c,...w,style:k,...(O.length||p)&&{"data-bs-popper":"static"},className:ue(t,v,P&&"show",m&&`${v}-end`,l&&`${v}-${l}`,...O)})});Ln.displayName="DropdownMenu";const In=d.forwardRef(({bsPrefix:e,split:t,className:n,childBsPrefix:r,as:o=rn,...a},s)=>{const i=ce(e,"dropdown-toggle"),u=d.useContext(Xe);r!==void 0&&(a.bsPrefix=r);const[l]=xn();return l.ref=Rn(l.ref,Nn(s)),h.jsx(o,{className:ue(n,i,t&&`${i}-split`,(u==null?void 0:u.show)&&"show"),...l,...a})});In.displayName="DropdownToggle";const Fn=d.forwardRef((e,t)=>{const{bsPrefix:n,drop:r="down",show:o,className:a,align:s="start",onSelect:i,onToggle:u,focusFirstItemOnShow:l,as:c="div",navbar:f,autoClose:m=!0,...p}=qa(e,{show:"onToggle"}),v=d.useContext(yt),y=ce(n,"dropdown"),g=tr(),C=j=>m===!1?j==="click":m==="inside"?j!=="rootClose":m==="outside"?j!=="select":!0,x=Ka((j,P)=>{var E;!((E=P.originalEvent)==null||(E=E.target)==null)&&E.classList.contains("dropdown-toggle")&&P.source==="mousedown"||(P.originalEvent.currentTarget===document&&(P.source!=="keydown"||P.originalEvent.key==="Escape")&&(P.source="rootClose"),C(P.source)&&(u==null||u(j,P)))}),b=Wn(s==="end",r,g),w=d.useMemo(()=>({align:s,drop:r,isRTL:g}),[s,r,g]),D={down:y,"down-centered":`${y}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return h.jsx(gt.Provider,{value:w,children:h.jsx(Re,{placement:b,show:o,onSelect:i,onToggle:x,focusFirstItemOnShow:l,itemSelector:`.${y}-item:not(.disabled):not(:disabled)`,children:v?p.children:h.jsx(c,{...p,ref:t,className:ue(a,o&&"show",D[r])})})})});Fn.displayName="Dropdown";const De=Object.assign(Fn,{Toggle:In,Menu:Ln,Item:kn,ItemText:An,Divider:Sn,Header:$n});function ti({comments:e,token:t,username:n,sortOption:r,setSortOption:o,slug:a,refetchComments:s}){const i=tt({mutationFn:async({id:c,liked:f})=>{await fetch(`http://localhost:5000/api/comments/${c}/${f?"unlike":"like"}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}})},onSuccess:()=>s()}),u=tt({mutationFn:async c=>{await fetch(`http://localhost:5000/api/comments/${c}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})},onSuccess:()=>s()}),l=[...e].sort((c,f)=>r==="liked"?f.likes.length-c.likes.length:new Date(f.timestamp)-new Date(c.timestamp));return h.jsxs("div",{className:"cat-comments",children:[h.jsxs("div",{className:"comment-header d-flex justify-content-between align-items-center mb-3",children:[h.jsx("h3",{className:"mb-0",children:"Comments"}),h.jsxs(De,{children:[h.jsx(De.Toggle,{variant:"light",className:"text-capitalize",children:r==="recent"?"Most Recent":"Most Liked"}),h.jsxs(De.Menu,{children:[h.jsx(De.Item,{onClick:()=>o("recent"),children:"Most Recent"}),h.jsx(De.Item,{onClick:()=>o("liked"),children:"Most Liked"})]})]})]}),h.jsx(Zr,{slug:a,token:t,username:n,onCommentAdded:s}),!t&&h.jsx("p",{className:"no-comments",children:"🔒 Please log in to post or like comments."}),e.length>0&&h.jsxs("p",{className:"comment-count",children:["💬 ",e.length," Comment",e.length!==1&&"s"]}),l.length===0?h.jsx("p",{className:"no-comments",children:"No comments yet."}):h.jsx("ul",{className:"comment-list",children:l.map(c=>h.jsx(Gr,{comment:c,token:t,onToggleLike:(f,m)=>i.mutate({id:f,liked:m}),onDelete:f=>u.mutate(f)},c._id))})]})}function ii(){const{slug:e}=Gn(),[t,n]=d.useState(!1),[r,o]=d.useState("recent");nn();const a=localStorage.getItem("token")||sessionStorage.getItem("token"),s=localStorage.getItem("username")||sessionStorage.getItem("username");d.useEffect(()=>{const p=setTimeout(()=>{n(!0)},10);return()=>clearTimeout(p)},[]);const{data:i,isLoading:u,isError:l}=Et({queryKey:["cat",e],queryFn:async()=>{const p=await fetch(`http://localhost:5000/cats/${e}`);if(!p.ok)throw new Error("Failed to fetch");return p.json()},retry:1}),{data:c=[],refetch:f}=Et({queryKey:["comments",e],queryFn:async()=>{const p=await fetch(`http://localhost:5000/api/cats/${e}/comments`);if(!p.ok)throw new Error("Failed to fetch comments");return p.json()}}),m=tt({mutationFn:async p=>{await fetch(`http://localhost:5000/api/comments/${p}/like`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})},onSuccess:()=>f()});return u?h.jsx("div",{className:"status-wrapper",children:h.jsx("div",{className:"status-message loading",children:"Loading cat info..."})}):l||i!=null&&i.error?h.jsx("div",{className:"status-wrapper",children:h.jsx("div",{className:"status-message error",children:"😿 No cats found matching that name."})}):h.jsx("div",{className:`main-box fade-ready ${t?"fade-in":""}`,children:h.jsxs("div",{className:"cat-detail-container",children:[h.jsx(rr,{cat:i}),h.jsx(or,{cat:i}),h.jsx(ti,{comments:c,token:a,username:s,onLike:p=>m.mutate(p),sortOption:r,setSortOption:o,slug:e,refetchComments:f})]})})}export{ii as default};
